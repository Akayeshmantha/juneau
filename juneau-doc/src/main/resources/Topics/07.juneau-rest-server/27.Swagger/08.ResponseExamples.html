<!--
/***************************************************************************************************************************
 * Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *  
 *  http://www.apache.org/licenses/LICENSE-2.0
 *  
 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations under the License.
 ***************************************************************************************************************************/
 -->

{new} Response Examples

<p>
	The <code>model</code> select box in the responses can be expanded to show examples:
</p>
<img class='bordered' style='width:900px' src='doc-files/juneau-rest-server.Swagger.Responses.1.png'> 
<p class='w800'>
	The {@link oaj.http.annotation.Response#example @Response(annotation)} annotation can be used on either your <ja>@RestMethod</ja>-annotated
	method or return class to define the example of the body.
</p>	
<p class='bpcode w800'>
	<jc>// A JSON representation of a Pet object.</jc>
	<ja>@Response</ja>(
		example=<js>"{name:'Doggie',price:9.99,species:'Dog',tags:['friendly','cute']}"</js>
	)
</p>
<p>
	This is a Simple JSON representation of the body that is converted to a POJO and then serialized to all the registered serializers on the REST method to produce examples for all
	supported language types.
	These values are then used to automatically populate the {@link #examples} field.
</p>
<h5 class='section'>Example:</h5>
<p>
There are several other options for defining this example:
<ul class='spaced-list'>
	<li>
		Defining an <js>"x-example"</js> field in the inherited Swagger JSON response object (classpath file or <code><ja>@ResourceSwagger</ja>(value)</code>/<code><ja>@MethodSwagger</ja>(value)</code>).
	<li>
		Defining an <js>"x-example"</js> field in the Swagger Schema Object for the response object (including referenced <js>"$ref"</js> schemas).
	<li>
		Allowing Juneau to auto-generate a code example.
</ul>
<p>
The latter is important because Juneau also supports auto-generation of JSON-Schema from POJO classes using {@link JsonSchemaSerializer} which has several of it's own
options for auto-detecting and calculation POJO examples.
<p>
In particular, examples can be defined via static methods, fields, and annotations on the classes themselves.
<p class='bcode w800'>
	<jc>// Annotation on class.</jc>
	<ja>@Example</ja>(<js>"{name:'Doggie',price:9.99,species:'Dog',tags:['friendly','cute']}"</js>)
	<jk>public class</jk> PetCreate {
		...
	}
</p>
<p class='bcode w800'>
	<jc>// Annotation on static method.</jc>
	<jk>public class</jk> PetCreate {
		<ja>@Example</ja>
		<jk>public static</jk> PetCreate <jsm>sample</jsm>() {
			<jk>return new</jk> PetCreate(<js>"Doggie"</js>, 9.99f, <js>"Dog"</js>, <jk>new</jk> String[] {<js>"friendly"</js>,<js>"cute"</js>});
		}
	}
</p>
<p class='bcode w800'>
	<jc>// Static method with specific name 'example'.</jc>
	<jk>public class</jk> PetCreate {
		<jk>public static</jk> PetCreate <jsm>example</jsm>() {
			<jk>return new</jk> PetCreate(<js>"Doggie"</js>, 9.99f, <js>"Dog"</js>, <jk>new</jk> String[] {<js>"friendly"</js>,<js>"cute"</js>});
		}
	}
</p>
<p class='bcode w800'>
	<jc>// Static field.</jc>
	<jk>public class</jk> PetCreate {
		<ja>@Example</ja>
		<jk>public static</jk> PetCreate <jsf>EXAMPLE</jsf> = <jk>new</jk> PetCreate(<js>"Doggie"</js>, 9.99f, <js>"Dog"</js>, <jk>new</jk> String[] {<js>"friendly"</js>,<js>"cute"</js>});
	}
</p>
<p>
Examples can also be specified via generic properties as well using the {@link BeanContext#BEAN_examples} property at either the class or method level.
<p class='bcode w800'>
	<jc>// Examples defined at class level.</jc>
	<ja>@RestResource</ja>(
		properties={
			<ja>@Property</ja>(
				name=<jsf>BEAN_examples</jsf>,
				value=<js>"{'org.apache.juneau.examples.rest.petstore.PetCreate': {name:'Doggie',price:9.99,species:'Dog',tags:['friendly','cute']}}"</js>
			)
		}
	)
</p>
<h5 class='section'>Used for:</h5>
<ul class='spaced-list'>
	<li>
		Server-side generated Swagger documentation.
</ul>
<h5 class='section'>See also:</h5>
<ul>
	<li class='ja'>{@link Example}
	<li class='jc'>{@link BeanContext}
	<ul>
		<li class='jf'>{@link BeanContext#BEAN_examples BEAN_examples}
	</ul>
	<li class='jc'>{@link JsonSchemaSerializer}
	<ul>
		<li class='jf'>{@link JsonSchemaGenerator#JSONSCHEMA_addExamplesTo JSONSCHEMA_addExamplesTo}
		<li class='jf'>{@link JsonSchemaGenerator#JSONSCHEMA_allowNestedExamples JSONSCHEMA_allowNestedExamples}
	</ul>
</ul>
<h5 class='section'>Notes:</h5>
<ul class='spaced-list'>
	<li>
		The format is any {@doc juneau-marshall.JsonDetails.SimplifiedJson} if the object can be converted to a POJO using {@link JsonParser#DEFAULT} or a simple String if the object
		has a schema associated with it meancan be converted from a String.
		<br>Multiple lines are concatenated with newlines.
	<li>
		The format of this object can also be a simple String if the body has a schema associated with it, meaning it's meant to be treated as an HTTP part.
	<li>
		Supports {@doc DefaultRestSvlVariables}
		(e.g. <js>"$L{my.localized.variable}"</js>).
</ul>

Serialized examples of the body of a response.
<p>
This is a {@doc juneau-marshall.JsonDetails.SimplifiedJson} object whose keys are media types and values are string representations of that value.
<p>
In general you won't need to populate this value directly since it will automatically be calculated based on the value provided in the {@link #example()} field.
<br>However, this field allows you to override the behavior and show examples for only specified media types or different examples for different media types.
<p class='bcode w800'>
	<jc>// A JSON representation of a PetCreate object.</jc>
	<ja>@Response</ja>(
		examples={
			<js>"'application/json':'{name:\\'Doggie\\',species:\\'Dog\\'}',"</js>,
			<js>"'text/uon':'(name:Doggie,species=Dog)'"</js>
		}
	)
</p>
<h5 class='section'>Used for:</h5>
<ul class='spaced-list'>
	<li>
		Server-side generated Swagger documentation.
</ul>
<h5 class='section'>Notes:</h5>
<ul class='spaced-list'>
	<li>
		The format is a {@doc juneau-marshall.JsonDetails.SimplifiedJson} object with string keys (media type) and string values (example for that media type) .
	<li>
		The leading/trailing <code>{ }</code> characters are optional.
	<li>
		Multiple lines are concatenated with newlines so that you can format the value to be readable:
	<li>
		Supports {@doc DefaultRestSvlVariables}
		(e.g. <js>"$L{my.localized.variable}"</js>).
	<li>
		Resolution of variables is delayed until request time and occurs before parsing.
		<br>This allows you to, for example, pull in a JSON construct from a properties file based on the locale of the HTTP request.
</ul>











<img class='bordered' style='width:900px' src='doc-files/juneau-rest-server.Swagger.Responses.2.png'> 
<img class='bordered' style='width:900px' src='doc-files/juneau-rest-server.Swagger.Responses.3.png'> 
